<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biotecnología</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos generales y fuente */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1F2937; /* Gris Oscuro */
            color: #E5E7EB; /* Texto Gris Claro para contraste */
        }
        /* Ajuste de colores de fondo para las secciones principales */
        .content-card {
            background-color: #374151; /* Gris medio para las tarjetas de contenido */
            color: #F9FAFB;
        }
        /* Ajuste de colores en la cabecera */
        .header-title {
            color: #F9FAFB;
        }
        .header-subtitle {
            color: #D1D5DB;
        }

        /* Estilos para los botones de navegación */
        .nav-btn {
            transition: all 0.3s ease;
            border-bottom-width: 4px;
            border-color: transparent;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* Sombra más oscura */
        }
        .nav-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
        }
        .nav-btn.active {
            transform: translateY(-2px) scale(1.03); 
            box-shadow: 0 8px 15px rgba(0,0,0,0.6);
        }
        /* Colores de borde activo para los botones de contenido */
        .nav-btn.active.bg-slate-600 { border-color: #6B7280; } 
        .nav-btn.active.bg-red-500 { border-color: #F87171; }
        .nav-btn.active.bg-green-500 { border-color: #6EE7B7; }
        .nav-btn.active.bg-gray-400 { border-color: #D1D5DB; }
        .nav-btn.active.bg-blue-500 { border-color: #60A5FA; }
        .nav-btn.active.bg-yellow-500 { border-color: #FCD34D; }

        /* Contenedor del gráfico para asegurar responsividad */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold header-title mb-3">Biotecnología: La Ciencia que Transforma Nuestro Mundo</h1>
            <p class="text-lg header-subtitle max-w-3xl mx-auto">Explora las diferentes áreas de aplicación de esta ciencia clave para el siglo XXI.</p>
        </header>

        <!-- Sección de Pregunta para Reflexión -->
        <section class="bg-indigo-900 p-6 sm:p-8 rounded-2xl shadow-lg border-l-8 border-indigo-500 mb-12">
            <h2 class="text-xl sm:text-2xl font-extrabold text-indigo-300 flex items-center mb-2">
                <svg class="w-6 h-6 mr-3 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                Conexión con la Vida Diaria
            </h2>
            <p class="text-lg text-indigo-200 font-semibold italic">
                ¿Qué comes o usas hoy que haya sido modificado por la ciencia?
            </p>
            <p class="text-sm text-indigo-300 mt-3">
                Usa los botones a continuación para descubrir cómo la Biotecnología da forma a tu mundo, desde medicinas hasta alimentos.
            </p>
        </section>
        
        <!-- Botones de navegación -->
        <nav id="biotech-nav" class="flex flex-wrap justify-center gap-3 md:gap-4 mb-12">
            <!-- Los botones se generan aquí mediante JavaScript -->
        </nav>

        <main class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Contenedor de Contenido Principal -->
            <section id="content-display" class="content-card p-8 rounded-2xl shadow-xl transition-opacity duration-500 min-h-[450px]">
                <!-- Contenido inicial (guía) o dinámico (por botón) -->
            </section>
            
            <section class="content-card p-8 rounded-2xl shadow-xl">
                <h2 class="text-2xl font-bold text-center mb-4 text-gray-100">Impacto Relativo por Área</h2>
                <p class="text-center text-gray-300 mb-6">Este gráfico muestra la visibilidad y el impacto percibido de las principales áreas de color.</p>
                <div class="chart-container">
                    <canvas id="biotechChart"></canvas>
                </div>
            </section>
        </main>
        
        <section class="mt-16 content-card p-8 rounded-2xl shadow-xl">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-100">Resumen de Clasificaciones por Color</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full text-left">
                    <thead class="bg-gray-700 border-b border-gray-600">
                        <tr>
                            <th class="px-6 py-4 font-semibold text-gray-300">Color</th>
                            <th class="px-6 py-4 font-semibold text-gray-300">Área de Enfoque</th>
                            <th class="px-6 py-4 font-semibold text-gray-300">Ejemplo Clave</th>
                        </tr>
                    </thead>
                    <tbody id="summary-table-body" class="text-gray-200">
                    </tbody>
                </table>
            </div>
        </section>

    </div>
    
    <!-- Modal de Clasificación de Casos -->
    <div id="classification-modal" onclick="closeModal()" class="fixed inset-0 bg-black bg-opacity-70 hidden z-50 overflow-y-auto p-4 flex items-start justify-center">
        <div onclick="event.stopPropagation()" class="bg-gray-800 m-4 mt-10 md:m-20 p-6 md:p-10 rounded-2xl shadow-2xl w-full max-w-5xl transform transition-all duration-300">
            <h2 class="text-3xl font-bold text-white mb-6 border-b border-gray-600 pb-2">Ejercicio de Clasificación Biotecnológica</h2>
            <p class="text-gray-400 mb-6">Clasifica cada uno de los siguientes procesos o productos en la categoría de color de la biotecnología que le corresponde.</p>

            <div class="overflow-x-auto mb-6">
                <table class="min-w-full text-left border border-gray-700 rounded-lg overflow-hidden">
                    <thead class="bg-indigo-900 border-b border-gray-700">
                        <tr>
                            <th class="px-4 py-3 font-semibold text-indigo-300">#</th>
                            <th class="px-4 py-3 font-semibold text-indigo-300">Producto / Proceso</th>
                            <th class="px-4 py-3 font-semibold text-indigo-300">Clasificación (Tu Respuesta)</th>
                            <th class="px-4 py-3 font-semibold text-indigo-300 hidden answers-column">Respuesta Correcta</th>
                        </tr>
                    </thead>
                    <tbody id="classification-table-body" class="text-gray-300">
                        <!-- Contenido generado por JS -->
                    </tbody>
                </table>
            </div>

            <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
                <button onclick="toggleAnswers()" id="toggle-answers-btn" class="py-2 px-6 rounded-lg font-bold shadow-md bg-green-600 text-white hover:bg-green-700 transition duration-300">
                    Mostrar Respuestas
                </button>
                <button onclick="closeModal()" class="py-2 px-6 rounded-lg font-bold shadow-md bg-gray-600 text-white hover:bg-gray-700 transition duration-300">
                    Cerrar
                </button>
            </div>
        </div>
    </div>
    <!-- Fin Modal -->

    <script>
        const biotechData = {
            general: {
                title: 'Definición y Alcance de la Biotecnología',
                icon: '🧬',
                color: 'slate-600',
                focus: 'La biotecnología es **toda aplicación tecnológica que utiliza sistemas biológicos y organismos vivos o sus derivados** para la creación o modificación de productos y procesos con fines específicos.',
                uses: [
                    '<strong>Origen Histórico:</strong> Aunque el término es moderno, sus prácticas son milenarias (hacer pan, cerveza, queso) mediante el uso de la fermentación y microorganismos.',
                    '<strong>Base Científica:</strong> Se apoya fuertemente en la biología molecular, la genética, la bioquímica y la microbiología.',
                    '<strong>Objetivo Principal:</strong> Solucionar problemas en áreas críticas como la salud, la alimentación, la industria y la protección del medio ambiente.'
                ],
                impact: 'Es un motor de la bioeconomía y una herramienta fundamental para alcanzar la sostenibilidad y mejorar la calidad de vida global.',
                impactScore: 0
            },
            roja: {
                title: 'Biotecnología Roja (Medicina y Salud)',
                icon: '⚕️',
                color: 'red-500',
                focus: 'Mejorar la salud humana y animal. Es el área más conocida y con mayor impacto directo en nuestra calidad de vida.',
                uses: [
                    '<strong>Diagnóstico:</strong> Creación de pruebas moleculares (como la PCR) para detectar enfermedades de forma rápida y precisa.',
                    '<strong>Terapia:</strong> Desarrollo de vacunas, antibióticos y biofármacos como la insulina y hormonas de crecimiento.',
                    '<strong>Medicina Regenerativa:</strong> Investigación con células madre para reparar o reemplazar tejidos dañados.',
                    '<strong>Genómica:</strong> Desarrollo de terapias génicas para corregir defectos genéticos.'
                ],
                impact: 'Ha salvado millones de vidas y ha transformado el tratamiento de enfermedades crónicas, infecciosas y genéticas.',
                impactScore: 35
            },
            verde: {
                title: 'Biotecnología Verde (Agrícola)',
                icon: '🌾',
                color: 'green-500',
                focus: 'Aplicar herramientas biotecnológicas a los procesos agrícolas para mejorar la producción de alimentos y reducir el impacto ambiental.',
                uses: [
                    '<strong>Cultivos Transgénicos (OGM):</strong> Desarrollo de plantas resistentes a plagas, sequías o herbicidas.',
                    '<strong>Biofertilizantes y Biopesticidas:</strong> Uso de microorganismos para nutrir las plantas o controlar plagas, reduciendo la necesidad de químicos.',
                    '<strong>Cultivo de Tejidos:</strong> Propagación in vitro para obtener grandes cantidades de material vegetal sano y de alta calidad.'
                ],
                impact: 'Es crucial para la seguridad alimentaria global, permitiendo cultivos más resistentes y productivos.',
                impactScore: 25
            },
            blanca: {
                title: 'Biotecnología Blanca (Industrial)',
                icon: '🏭',
                color: 'gray-400',
                focus: 'Crear productos y procesos industriales de manera más eficiente, limpia y sostenible, utilizando enzimas y microorganismos.',
                uses: [
                    '<strong>Biocombustibles:</strong> Producción de combustibles como el bioetanol a partir de biomasa.',
                    '<strong>Biolavado:</strong> Uso de enzimas en detergentes para limpiar a bajas temperaturas, ahorrando energía.',
                    '<strong>Nuevos Materiales:</strong> Síntesis de químicos y plásticos biodegradables.'
                ],
                impact: 'Reduce el consumo de energía, la contaminación industrial y la dependencia de los combustibles fósiles.',
                impactScore: 15
            },
            azul: {
                title: 'Biotecnología Azul (Marina y Acuática)',
                icon: '🌊',
                color: 'blue-500',
                focus: 'Explorar y utilizar los recursos marinos y acuáticos para desarrollar nuevos productos y soluciones innovadoras.',
                uses: [
                    '<strong>Nutrición y Cosmética:</strong> Extracción de compuestos beneficiosos de algas (como ácidos grasos omega-3).',
                    '<strong>Nuevas Medicinas:</strong> Búsqueda de moléculas bioactivas en el océano con potencial farmacéutico.',
                    '<strong>Acuicultura:</strong> Mejora genética de peces y mariscos para una producción más sostenible.'
                ],
                impact: 'Abre un vasto ecosistema, en gran parte inexplorado, para la innovación en salud, alimentación y materiales.',
                impactScore: 10
            },
            otras: {
                title: 'Otras Áreas Especializadas (Gris/Amarilla)',
                icon: '🎨',
                color: 'yellow-500',
                focus: 'Agrupa diversas aplicaciones como la ambiental y la alimentaria, que son esenciales para la sostenibilidad y la nutrición.',
                uses: [
                    '<strong>Gris (Ambiental):</strong> Uso de la **biorremediación** con microorganismos para degradar contaminantes (ej. limpieza de derrames de petróleo).',
                    '<strong>Amarilla (Alimentos):</strong> Centrada en procesos de **fermentación** (yogur, queso, pan) y la mejora nutricional.',
                    '<strong>Dorada (Bioinformática):</strong> Utilización de software y bases de datos para analizar datos genómicos masivos.'
                ],
                impact: 'Estas áreas son fundamentales para la sostenibilidad, la nutrición y el análisis de la enorme cantidad de datos biológicos generados.',
                impactScore: 15
            }
        };

        const navContainer = document.getElementById('biotech-nav');
        const contentDisplay = document.getElementById('content-display');
        let currentActiveButton = null;
        let chartInstance = null; 

        // --- Datos para la tabla de clasificación ---
        const classificationCases = [
            { id: 1, case: 'Producción de pan y cerveza mediante levaduras.', answer: 'Amarilla (Alimentos)' },
            { id: 2, case: 'Uso de microorganismos para limpiar un suelo contaminado con metales pesados.', answer: 'Gris (Ambiental)' },
            { id: 3, case: 'Desarrollo de un tomate resistente a un virus.', answer: 'Verde (Agrícola)' },
            { id: 4, case: 'Uso de la PCR (Reacción en Cadena de la Polimerasa) para el diagnóstico de COVID-19.', answer: 'Roja (Medicina)' },
            { id: 5, case: 'Producción de plásticos biodegradables a partir de cultivos bacterianos.', answer: 'Blanca (Industrial)' },
            { id: 6, case: 'Investigación de compuestos anticancerígenos hallados en esponjas marinas.', answer: 'Azul (Marina)' },
            { id: 7, case: 'Inclusión de enzimas en un detergente para mejorar la limpieza en agua fría.', answer: 'Blanca (Industrial)' },
            { id: 8, case: 'El cultivo de algas para la extracción de aceites ricos en Omega-3.', answer: 'Azul (Marina)' },
            { id: 9, case: 'Desarrollo de una vacuna contra la gripe.', answer: 'Roja (Medicina)' },
            { id: 10, case: 'Utilización de biofertilizantes para reducir el uso de químicos en plantaciones de maíz.', answer: 'Verde (Agrícola)' }
        ];

        // --- Funciones para el Modal ---
        function generateClassificationTable() {
            const tbody = document.getElementById('classification-table-body');
            tbody.innerHTML = classificationCases.map(item => `
                <tr class="border-b border-gray-700 hover:bg-gray-700">
                    <td class="px-4 py-3 font-semibold text-gray-300">${item.id}</td>
                    <td class="px-4 py-3 text-gray-400">${item.case}</td>
                    <td class="px-4 py-3 text-gray-500 italic">...</td>
                    <td class="px-4 py-3 font-semibold text-gray-200 hidden answers-column">
                        <span class="p-1 rounded text-sm bg-indigo-700 text-indigo-200">${item.answer}</span>
                    </td>
                </tr>
            `).join('');
        }

        function showClassificationModal() {
            document.getElementById('classification-modal').classList.remove('hidden');
            generateClassificationTable(); 
            
            document.querySelectorAll('.answers-column').forEach(el => el.classList.add('hidden'));
            document.getElementById('toggle-answers-btn').textContent = 'Mostrar Respuestas';
            document.getElementById('toggle-answers-btn').classList.replace('bg-red-500', 'bg-green-600');
        }

        function closeModal() {
            document.getElementById('classification-modal').classList.add('hidden');
        }

        function toggleAnswers() {
            const columns = document.querySelectorAll('.answers-column');
            const button = document.getElementById('toggle-answers-btn');
            
            const isHidden = columns[0].classList.contains('hidden');

            if (isHidden) {
                columns.forEach(el => el.classList.remove('hidden'));
                button.textContent = 'Ocultar Respuestas';
                button.classList.replace('bg-green-600', 'bg-red-500');
            } else {
                columns.forEach(el => el.classList.add('hidden'));
                button.textContent = 'Mostrar Respuestas';
                button.classList.replace('bg-red-500', 'bg-green-600');
            }
        }
        // --- Fin Funciones para el Modal ---

        function updateContent(key) {
            const data = biotechData[key];
            if (!data) return;

            // Define el color base para el borde de la lista
            const baseColor = data.color.split('-')[0];
            const listBorderColor = (baseColor === 'slate' || baseColor === 'gray') ? 'indigo-400' : `${baseColor}-400`; // Tonos claros para el borde

            contentDisplay.style.opacity = 0;

            setTimeout(() => {
                let usesHtml = data.uses.map(use => `<li class="mb-2 pl-4 border-l-4 border-${listBorderColor} text-gray-300">${use}</li>`).join('');

                contentDisplay.innerHTML = `
                    <h2 class="text-3xl font-bold mb-4 text-white flex items-center">
                        <span class="text-4xl mr-4">${data.icon}</span>
                        ${data.title}
                    </h2>
                    <p class="text-gray-300 mb-6 font-semibold">${data.focus}</p>
                    <h3 class="text-xl font-bold mb-3 text-gray-200">Usos Clave / Fundamentos:</h3>
                    <ul class="text-gray-300 space-y-2 mb-6">
                        ${usesHtml}
                    </ul>
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <h3 class="text-lg font-bold text-gray-200">Impacto Principal:</h3>
                        <p class="text-gray-300">${data.impact}</p>
                    </div>
                `;
                contentDisplay.style.opacity = 1;
            }, 200);

            // Manejo del estado activo del botón
            const newActiveButton = document.querySelector(`[data-key="${key}"]`);
            if (currentActiveButton) {
                currentActiveButton.classList.remove('active', 'scale-105');
            }
            if (newActiveButton) {
                newActiveButton.classList.add('active', 'scale-105');
                currentActiveButton = newActiveButton;
            }
        }

        function initializeButtons() {
            // 1. Generación del botón de Definición General
            const generalData = biotechData['general'];
            const generalBtn = document.createElement('button');
            generalBtn.className = `nav-btn text-white font-bold py-3 px-6 rounded-lg shadow-md focus:outline-none bg-${generalData.color} hover:bg-slate-700 transition duration-300 transform`;
            generalBtn.textContent = '🧬 Definición';
            generalBtn.dataset.key = 'general';
            generalBtn.addEventListener('click', () => updateContent('general'));
            navContainer.appendChild(generalBtn);
            
            // 2. Generación de botones dinámicos de las áreas de biotecnología
            Object.keys(biotechData).filter(key => key !== 'general').forEach(key => {
                const data = biotechData[key];
                let hoverClass;
                if (key === 'blanca' || key === 'general') {
                    hoverClass = 'hover:bg-gray-500'; 
                } else {
                    hoverClass = `hover:bg-${data.color.split('-')[0]}-600`;
                }

                const btn = document.createElement('button');
                btn.className = `nav-btn text-white font-bold py-3 px-6 rounded-lg shadow-md focus:outline-none bg-${data.color} ${hoverClass}`;
                btn.textContent = data.title.split(' ')[2].replace('(', '').replace(')', '');
                btn.dataset.key = key;
                btn.addEventListener('click', () => updateContent(key));
                navContainer.appendChild(btn);
            });

            // 3. ADICIÓN DEL BOTÓN DE CLASIFICACIÓN
            const quizBtn = document.createElement('button');
            quizBtn.className = 'nav-btn text-white font-bold py-3 px-6 rounded-lg shadow-md focus:outline-none bg-indigo-500 hover:bg-indigo-600 transition duration-300 transform';
            quizBtn.textContent = '🧪 Clasificación de Casos';
            quizBtn.addEventListener('click', showClassificationModal);
            navContainer.appendChild(quizBtn);

            // 4. ADICIÓN DEL BOTÓN DE YOUTUBE
            const youtubeLink = document.createElement('a');
            youtubeLink.href = 'https://www.youtube.com/watch?v=qrIXyDjDQzA';
            youtubeLink.target = '_blank'; // Abrir en una nueva pestaña
            youtubeLink.textContent = '🎥 Video Introductorio';
            youtubeLink.className = 'nav-btn text-white font-bold py-3 px-6 rounded-lg shadow-md focus:outline-none bg-purple-600 hover:bg-purple-700 transition duration-300 transform';
            
            navContainer.appendChild(youtubeLink);
        }

        function initializeSummaryTable() {
            const summaryTableBody = document.getElementById('summary-table-body');
            const tableData = {
                roja: { color: 'Roja', focus: 'Salud', example: 'Vacunas, Insulina' },
                verde: { color: 'Verde', focus: 'Agrícola', example: 'Cultivos resistentes' },
                blanca: { color: 'Blanca', focus: 'Industrial', example: 'Biocombustibles' },
                azul: { color: 'Azul', focus: 'Marina', example: 'Omega-3 de algas' },
                gris: { color: 'Gris', focus: 'Ambiental', example: 'Biorremediación' },
                amarilla: { color: 'Amarilla', focus: 'Alimentos', example: 'Fermentación' },
                dorada: { color: 'Dorada', focus: 'Informática', example: 'Análisis de Genoma' }
            };

            Object.keys(tableData).forEach(key => {
                const rowData = tableData[key];
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-700 hover:bg-gray-700';
                row.innerHTML = `
                    <td class="px-6 py-4 font-semibold">${rowData.color}</td>
                    <td class="px-6 py-4">${rowData.focus}</td>
                    <td class="px-6 py-4">${rowData.example}</td>
                `;
                summaryTableBody.appendChild(row);
            });
        }

        function initializeChart() {
            const ctx = document.getElementById('biotechChart').getContext('2d');
            const chartData = Object.keys(biotechData)
                .filter(key => biotechData[key].impactScore > 0)
                .map(key => biotechData[key]);
                
            chartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: chartData.map(d => d.title.split('(')[0].trim()),
                    datasets: [{
                        label: 'Impacto Relativo',
                        data: chartData.map(d => d.impactScore),
                        backgroundColor: [
                            '#F87171', 
                            '#6EE7B7', 
                            '#D1D5DB', 
                            '#60A5FA', 
                            '#FCD34D', 
                        ],
                        borderColor: '#1F2937', 
                        borderWidth: 4,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                color: '#D1D5DB', 
                                font: {
                                    size: 14,
                                    family: 'Inter'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '% de impacto percibido';
                                    }
                                    return label;
                                }
                            },
                            backgroundColor: '#374151',
                            titleFont: { size: 16, weight: 'bold' },
                            bodyFont: { size: 14 },
                            padding: 10,
                            cornerRadius: 8
                        }
                    },
                    cutout: '60%',
                }
            });
        }
        
        window.onload = function() {
            initializeButtons();
            initializeSummaryTable();
            initializeChart();

            // Mensaje inicial para guiar al usuario
            contentDisplay.innerHTML = `
                <div class="text-center py-16">
                    <span class="text-6xl mb-4 block">👆</span>
                    <h3 class="text-2xl font-semibold text-gray-200">¡Comienza a Explorar!</h3>
                    <p class="text-gray-400 mt-2">Selecciona un área de la Biotecnología (por color) o la Definición para ver sus aplicaciones y enfoque principal.</p>
                    <p class="text-gray-500 text-sm mt-4 italic">El contenido aparecerá aquí.</p>
                </div>
            `;
            // No activamos ningún botón ni cargamos contenido por defecto
        };

    </script>

</body>
</html>
